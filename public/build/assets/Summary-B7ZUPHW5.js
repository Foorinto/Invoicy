import{k as h,p as w,c as i,a as m,u as s,h as C,w as u,b as t,q as y,t as e,o as l,F as _,r as b,v as V,B as f,d as B,n as F,s as k,g as v,j}from"./app-DttYSkTm.js";import{_ as D}from"./AppLayout-Cm3hgk2p.js";import{u as N}from"./useTranslations-CnG4bCOe.js";import"./ApplicationLogo-B-JWj0-W.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./DropdownLink-B3_USSZS.js";const S={class:"flex items-center justify-between"},M={class:"text-xl font-semibold text-gray-900 dark:text-white"},T={class:"mb-6 flex flex-wrap gap-4"},U={value:""},z=["value"],A=["placeholder"],L=["placeholder"],O={class:"mb-8 grid grid-cols-1 gap-4 sm:grid-cols-4"},q={class:"overflow-hidden rounded-lg bg-white shadow dark:bg-gray-800 px-4 py-5"},E={class:"truncate text-sm font-medium text-gray-500 dark:text-gray-400"},$={class:"mt-1 text-2xl font-semibold text-gray-900 dark:text-white"},G={class:"text-sm text-gray-500 dark:text-gray-400"},H={class:"overflow-hidden rounded-lg bg-white shadow dark:bg-gray-800 px-4 py-5"},I={class:"truncate text-sm font-medium text-gray-500 dark:text-gray-400"},J={class:"mt-1 text-2xl font-semibold text-amber-600 dark:text-amber-400"},K={class:"text-sm text-gray-500 dark:text-gray-400"},P={class:"overflow-hidden rounded-lg bg-white shadow dark:bg-gray-800 px-4 py-5"},Q={class:"truncate text-sm font-medium text-gray-500 dark:text-gray-400"},R={class:"mt-1 text-2xl font-semibold text-green-600 dark:text-green-400"},W={class:"text-sm text-gray-500 dark:text-gray-400"},X={class:"overflow-hidden rounded-lg bg-white shadow dark:bg-gray-800 px-4 py-5"},Y={class:"truncate text-sm font-medium text-gray-500 dark:text-gray-400"},Z={class:"mt-1 text-2xl font-semibold text-gray-900 dark:text-white"},tt={class:"overflow-hidden rounded-lg bg-white shadow dark:bg-gray-800"},et={class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700"},st={class:"text-base font-semibold text-gray-900 dark:text-white"},at={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},rt={class:"bg-gray-50 dark:bg-gray-700"},dt={class:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 dark:text-white sm:pl-6"},ot={class:"px-3 py-3.5 text-right text-sm font-semibold text-gray-900 dark:text-white"},it={class:"px-3 py-3.5 text-right text-sm font-semibold text-gray-900 dark:text-white"},lt={class:"relative py-3.5 pl-3 pr-4 sm:pr-6"},nt={class:"sr-only"},ct={class:"divide-y divide-gray-200 bg-white dark:divide-gray-700 dark:bg-gray-800"},gt={key:0},mt={colspan:"4",class:"py-10 text-center text-sm text-gray-500 dark:text-gray-400"},ut={class:"whitespace-nowrap py-4 pl-4 pr-3 sm:pl-6"},xt={class:"font-medium text-gray-900 dark:text-white"},ht={class:"whitespace-nowrap px-3 py-4 text-right text-sm font-mono font-medium text-gray-900 dark:text-white"},yt={class:"whitespace-nowrap px-3 py-4 text-right text-sm"},_t={class:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-6"},Vt={__name:"Summary",props:{summary:Object,byClient:Array,filters:Object,clients:Array},setup(d){const{t:a}=N(),x=d,n=h(x.filters.client_id||""),c=h(x.filters.start_date||""),g=h(x.filters.end_date||"");return w([n,c,g],()=>{j.get(route("time-entries.summary"),{client_id:n.value||void 0,start_date:c.value||void 0,end_date:g.value||void 0},{preserveState:!0,replace:!0})}),(p,o)=>(l(),i(_,null,[m(s(C),{title:s(a)("time_summary")},null,8,["title"]),m(D,null,{header:u(()=>[t("div",S,[t("h1",M,e(s(a)("time_summary")),1),m(s(k),{href:p.route("time-entries.index"),class:"inline-flex items-center rounded-md border border-gray-300 bg-white px-3 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600"},{default:u(()=>[o[3]||(o[3]=t("svg",{class:"-ml-0.5 mr-1.5 h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M12.79 5.23a.75.75 0 01-.02 1.06L8.832 10l3.938 3.71a.75.75 0 11-1.04 1.08l-4.5-4.25a.75.75 0 010-1.08l4.5-4.25a.75.75 0 011.06.02z","clip-rule":"evenodd"})],-1)),v(" "+e(s(a)("back")),1)]),_:1},8,["href"])])]),default:u(()=>[t("div",T,[y(t("select",{"onUpdate:modelValue":o[0]||(o[0]=r=>n.value=r),class:"rounded-md border-0 py-1.5 pl-3 pr-10 text-gray-900 ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-indigo-600 dark:bg-gray-800 dark:text-white dark:ring-gray-600 sm:text-sm"},[t("option",U,e(s(a)("all_clients")),1),(l(!0),i(_,null,b(d.clients,r=>(l(),i("option",{key:r.id,value:r.id},e(r.name),9,z))),128))],512),[[V,n.value]]),y(t("input",{"onUpdate:modelValue":o[1]||(o[1]=r=>c.value=r),type:"date",class:"rounded-md border-0 py-1.5 px-3 text-gray-900 ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-indigo-600 dark:bg-gray-800 dark:text-white dark:ring-gray-600 sm:text-sm",placeholder:s(a)("start_date")},null,8,A),[[f,c.value]]),y(t("input",{"onUpdate:modelValue":o[2]||(o[2]=r=>g.value=r),type:"date",class:"rounded-md border-0 py-1.5 px-3 text-gray-900 ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-indigo-600 dark:bg-gray-800 dark:text-white dark:ring-gray-600 sm:text-sm",placeholder:s(a)("end_date")},null,8,L),[[f,g.value]])]),t("div",O,[t("div",q,[t("dt",E,e(s(a)("total_time")),1),t("dd",$,e(d.summary.total_formatted),1),t("dd",G,e(d.summary.total_hours)+" "+e(s(a)("hours")),1)]),t("div",H,[t("dt",I,e(s(a)("unbilled_time")),1),t("dd",J,e(d.summary.unbilled_formatted),1),t("dd",K,e(d.summary.unbilled_hours)+" "+e(s(a)("hours")),1)]),t("div",P,[t("dt",Q,e(s(a)("billed_time")),1),t("dd",R,e(d.summary.billed_formatted),1),t("dd",W,e(d.summary.billed_hours)+" "+e(s(a)("hours")),1)]),t("div",X,[t("dt",Y,e(s(a)("entries_count")),1),t("dd",Z,e(d.summary.count),1)])]),t("div",tt,[t("div",et,[t("h3",st,e(s(a)("by_client")),1)]),t("table",at,[t("thead",rt,[t("tr",null,[t("th",dt,e(s(a)("client")),1),t("th",ot,e(s(a)("total")),1),t("th",it,e(s(a)("unbilled")),1),t("th",lt,[t("span",nt,e(s(a)("actions")),1)])])]),t("tbody",ct,[d.byClient.length===0?(l(),i("tr",gt,[t("td",mt,e(s(a)("no_data_available")),1)])):B("",!0),(l(!0),i(_,null,b(d.byClient,r=>(l(),i("tr",{key:r.client_id,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[t("td",ut,[t("div",xt,e(r.client_name),1)]),t("td",ht,e(r.total_formatted),1),t("td",yt,[t("span",{class:F(["font-mono font-medium",r.unbilled_seconds>0?"text-amber-600 dark:text-amber-400":"text-gray-500 dark:text-gray-400"])},e(r.unbilled_formatted),3)]),t("td",_t,[m(s(k),{href:p.route("time-entries.index",{client_id:r.client_id}),class:"text-indigo-600 hover:text-indigo-900 dark:text-indigo-400 dark:hover:text-indigo-300"},{default:u(()=>[v(e(s(a)("view_details")),1)]),_:1},8,["href"])])]))),128))])])])]),_:1})],64))}};export{Vt as default};
